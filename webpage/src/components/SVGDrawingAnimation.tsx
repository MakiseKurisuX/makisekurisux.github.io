import React, { useEffect, useState } from 'react';
import { motion } from 'framer-motion';
import { Box } from '@mui/material';
import akameSvg from '../images/akame.svg';

interface SVGDrawingAnimationProps {
  onComplete?: () => void;
}

const SVGDrawingAnimation: React.FC<SVGDrawingAnimationProps> = ({ onComplete }) => {
  const [isAnimating, setIsAnimating] = useState(true);

  useEffect(() => {
    // Auto-complete animation after duration
    const timer = setTimeout(() => {
      setIsAnimating(false);
      onComplete?.();
    }, 4000); // 4 seconds total animation

    return () => clearTimeout(timer);
  }, [onComplete]);

  if (!isAnimating) return null;

  return (
    <motion.div
      initial={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      transition={{ duration: 1 }}
      style={{
        position: 'fixed',
        top: 0,
        left: 0,
        width: '100vw',
        height: '100vh',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%)',
        zIndex: 9999,
      }}
    >
      <Box
        sx={{
          position: 'relative',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      >
        {/* Background glow effect */}
        <motion.div
          initial={{ scale: 0, opacity: 0 }}
          animate={{ scale: 1, opacity: 0.3 }}
          transition={{ duration: 0.5, delay: 0.5 }}
          style={{
            position: 'absolute',
            width: '400px',
            height: '300px',
            borderRadius: '50%',
            background: 'radial-gradient(circle, rgba(0, 212, 255, 0.2), transparent 70%)',
            filter: 'blur(40px)',
          }}
        />

        {/* SVG Drawing Animation */}
        <svg
          width="300"
          height="221"
          viewBox="0 0 750 553"
          style={{
            position: 'relative',
            zIndex: 1,
          }}
        >
          {/* First path - Shadow/base */}
          <motion.path
            d="M0 0L0 346C8.56398 342.118 16.8489 336.245 26 334C27.3818 331.58 28.3626 330.939 31 330C31.0734 338.861 33.9919 346.662 36.6559 355C40.3282 366.494 44.3813 377.76 48.7971 389C64.0965 427.942 80.7779 466.636 101.579 503C108.122 514.438 114.605 525.808 121.576 537C124.476 541.655 127.75 548.977 132.515 551.972C136.538 554.501 144.414 553 149 553L191 553C184.225 543.381 175.094 535.139 167.614 526C154.009 509.378 141.795 491.547 130.898 473.108C126.823 466.213 120.231 461.21 118 453C129.19 453 139.922 454.524 151 455C150.513 451.148 150.487 446.714 149.235 443.039C146.962 436.365 140.833 430.555 136.594 425.09C133.337 420.891 130.755 416.584 126 414C126.487 416.056 126.952 417.144 128 419C120.428 421.75 111.199 427.523 103 427C103.334 429.512 104.146 431.62 105 434C98.5649 430.542 95.8843 423.026 92.3318 417C90.3364 413.615 88.0366 410.814 87 407L90 407L90 402C96.8063 403.62 103.156 402.54 110 402C109.954 385.396 101.808 373.893 93.7446 360C88.6001 351.136 84.2124 341.839 79 333C85.8079 338.641 89.132 348.598 93.8611 356C103.089 370.444 112.889 384.478 123.424 398C155.552 439.235 191.265 475.39 231 509.272C243.02 519.521 255.366 529.151 268 538.627C273.728 542.922 279.551 548.547 286 551.697C289.941 553.622 294.741 553 299 553L325 553L418 553L750 553L750 0L0 0z"
            fill="none"
            stroke="rgba(0, 212, 255, 0.3)"
            strokeWidth="2"
            initial={{ pathLength: 0 }}
            animate={{ pathLength: 1 }}
            transition={{ duration: 3, ease: 'easeInOut' }}
            style={{
              filter: 'drop-shadow(0 0 10px rgba(0, 212, 255, 0.5))',
            }}
          />
          
          {/* Second path - Main drawing */}
          <motion.path
            d="M479 78C478.703 92.3946 476.072 106.485 477.09 121C478.024 134.336 481.889 147.582 482 161C490.733 159.824 498.526 156.008 507 154C506.382 147.962 503.127 142.651 501.053 137C496.257 123.933 490.749 111.183 486.272 98C484.398 92.484 483.742 81.347 479 78M573 89C573.421 98.2191 577.619 108.548 581.232 117C582.561 120.108 584.287 124.162 587.326 125.971C591.063 128.196 597.194 126.204 601 125C597.481 115.701 590.21 107.566 583.919 100C580.622 96.0352 577.512 91.5858 573 89M584 151C589.071 152.095 593.948 150.227 599 149.439C604.749 148.543 610.305 148.473 616 147C614.515 141.274 610.329 136.564 606.651 132.019C604.955 129.925 603.039 127.192 599.975 127.582C596.965 127.964 595.003 130.712 593.429 133.015C589.616 138.597 585.81 144.448 584 151M604 159C604.493 165.033 606.562 170.883 606.414 177C605.973 195.291 600.096 212.05 592 228C593.801 228.562 595.122 228.824 597 229C592.398 231.269 587.118 231.828 588 238C581.428 236.78 565.792 233.977 563 242C548.937 242.418 533.75 258.027 524 267.09C519.296 271.462 513.857 278.611 507 279.412C502.647 279.921 499.259 276.885 496 274.471C490.295 270.244 484.764 264.295 478 262C479.825 284.341 490.942 303.972 497 325C488.68 317.803 481.034 306.679 471 302C474.046 316.718 479.25 331.126 487 344C478.406 340.694 470.523 333.348 464 326.985C452.029 315.308 440.783 302.201 430.605 288.961C425.476 282.288 422.458 273.494 416 268C416.815 278.317 419.901 287.961 422 298C416.635 291.52 413.048 280.524 406 276C406.593 280.69 407.377 285.259 406.7 290C405.612 297.617 402.024 304.604 406.533 311.907C411.296 319.619 425.878 322.111 434 325C430.665 330.105 427.745 336.212 421 336L420 337C423.626 344.77 432.079 349.016 437 356L431 356C440.733 363.778 453.764 361.257 465 360.17C476.088 359.097 487.31 359.995 498 363C492.805 364.493 487.373 363.009 482 363C473.683 362.987 466.118 364.003 458 365.715C453.275 366.712 443.647 370.571 452.059 375.316C453.598 376.184 455.322 376.603 456.985 377.151C459.813 378.084 462.356 379.504 465.09 380.656C468.98 382.295 472.93 383.887 477 385C471.705 392.14 468.075 397.177 465.873 406C465.251 408.495 463.72 412.121 465.118 414.581C467.222 418.284 473.4 417.983 477 417.999C487.733 418.048 497.588 414.928 507 409.822C519.914 402.815 535.849 393.568 544.034 381C550.097 371.69 551.414 359.423 559.213 351.104C564.13 345.859 570.59 344.262 577 341.746C587.84 337.491 600.252 330.603 612 330C605.353 334.193 610.72 341.15 610 348C617.3 344.586 625.954 334.839 628 327C622.472 327.253 617.484 329.521 612 330C617.149 327.781 625.418 326.692 629.351 322.567C633.875 317.822 635.436 308.073 637.681 302C643.785 285.491 652.559 266.64 654 249C648.396 253.384 645.392 260.17 641.481 266C636.096 274.027 630.358 281.722 624 289C630.072 274.416 641.873 260.064 643.816 244C645.628 229.014 636.815 212.783 630 200C626.66 201.547 624.021 203.906 621 206C623.965 201.07 626.487 196.834 627 191C619.341 193.469 613.559 204.324 608 210C611.572 203.585 616.159 197.72 619.201 191C621.633 185.627 622.843 179.549 624.996 174C626.397 170.389 629.709 162.984 626.393 159.603C622.08 155.208 609.422 158.572 604 159M546 236C544.476 230.123 540.065 225.483 537.489 220C531.149 206.503 527 194.004 527 179C509.956 182.437 506.195 199.281 505.996 214C505.942 217.982 503.75 224.058 506.604 227.387C508.865 230.024 512.813 230.926 516 231.843C525.381 234.542 536.239 235.973 546 236M544 189C544 202.338 545.508 215.727 556.174 225.227C568.045 235.801 584.701 221.702 587 209C583.703 212.194 581.71 216.407 577.96 219.211C575.606 220.971 572.921 222.331 570 222.786C555.881 224.985 549.575 212.834 546.749 201C545.753 196.829 546.478 192.627 544 189M331 235C325.991 226.325 319.134 218.628 313.846 210.019C312.294 207.491 309.838 204.013 306.329 205.623C303.431 206.951 305.024 210.723 305.491 213C306.846 219.606 306.87 227.748 312.264 232.682C316.667 236.709 325.464 235 331 235M327 210C327.517 217.782 332.14 225.945 339.001 229.752C347.471 234.452 356.926 229.639 358 220C356.341 221.83 354.879 223.987 352.894 225.491C340.441 234.926 334.264 215.32 327 210M365 224C364.21 227.827 360.924 234.822 362.643 238.552C364.312 242.174 370.806 239.972 371.667 236.772C372.809 232.527 369.741 227.666 368 224L365 224M345 247C346.851 250.969 349.838 253.726 352.715 257C360.066 265.369 370.134 279.695 383 276C379.932 267.422 375.665 252.756 366.961 248.318C361.002 245.28 351.524 247 345 247M84 322C83.2779 318.499 82.9604 311.29 80.1427 308.847C77.3017 306.384 70.75 309.975 69.8927 313.133C67.5455 321.779 78.4795 321.763 84 322M26 334C19.4225 334.929 13.7513 338.915 7.96065 341.902C5.64696 343.096 2.49713 343.986 1.02778 346.299C-1.04342 349.561 0 355.308 0 359L0 390L0 553L132 553C129.267 545.896 123.75 539.458 119.681 533C112.488 521.58 105.73 509.871 99.3086 498C80.2449 462.755 63.6631 426.367 49.189 389C44.6972 377.404 40.4386 365.839 36.6559 354C34.112 346.038 31.1746 338.458 31 330C28.0639 330.627 26.9873 331.147 26 334M79 333C84.3268 345.727 92.0455 358.002 98.8611 369.996C105.007 380.813 109.894 389.149 110 402C103.07 402.298 96.9368 403.288 90 402L90 407L87 407C87.6071 411.009 89.6417 413.592 91.7361 417C95.2922 422.787 98.0215 431.724 105 434L103 427C110.317 428.329 121.551 422.375 128 419L126 414C130.966 417.961 134.212 423.072 138.12 428.004C141.795 432.643 146.591 437.496 148.867 443.039C150.38 446.728 150.275 451.094 151 455C139.863 454.12 129.243 453 118 453C119.28 461.454 126.21 466.374 130.37 473.108C143.007 493.56 156.106 513.683 171.87 532C177.261 538.265 184.003 549.448 192 552.397C199.975 555.337 212.533 553 221 553L287 553C281.98 547.344 275.039 543.156 269 538.627C258.489 530.743 248.066 522.86 238 514.411C204.423 486.227 172.495 456.74 144.414 423C127.809 403.05 112.208 382.608 97.8333 361C94.1425 355.452 90.4931 349.86 87.3086 344C84.9905 339.734 83.3865 335.406 79 333M563 349C566.216 359.307 563.504 366.797 561.615 377C557.862 397.271 550.002 417.18 550 438C556.217 430.521 559.388 419.368 564.695 411C571.95 399.562 579.013 388.02 586.909 377C591.034 371.243 596.22 365.983 599.968 360C603.168 354.892 604.075 341.419 597.891 338.032C594.396 336.117 590.331 338.095 587 339.4C578.96 342.548 570.966 345.688 563 349M383 383C379.846 390.463 378.707 399.122 376.762 407C375.999 410.089 373.82 413.767 374.708 417C376.493 423.501 386.085 428.57 391 432.615C400.42 440.367 409.713 448.353 419 456.272C424.635 461.077 430.19 466.965 437 470C433.281 457.085 426.015 445.103 422.884 432C421.713 427.1 420.656 422.02 420.17 417C419.872 413.92 420.635 410.096 418.972 407.326C416.942 403.942 412.19 401.793 409 399.667C400.728 394.152 392.284 386.57 383 383z"
            fill="none"
            stroke="rgba(255, 107, 157, 0.8)"
            strokeWidth="1.5"
            initial={{ pathLength: 0 }}
            animate={{ pathLength: 1 }}
            transition={{ duration: 3, ease: 'easeInOut', delay: 0.3 }}
            style={{
              filter: 'drop-shadow(0 0 8px rgba(255, 107, 157, 0.6))',
            }}
          />

          {/* Fill animation */}
          <motion.path
            d="M0 0L0 346C8.56398 342.118 16.8489 336.245 26 334C27.3818 331.58 28.3626 330.939 31 330C31.0734 338.861 33.9919 346.662 36.6559 355C40.3282 366.494 44.3813 377.76 48.7971 389C64.0965 427.942 80.7779 466.636 101.579 503C108.122 514.438 114.605 525.808 121.576 537C124.476 541.655 127.75 548.977 132.515 551.972C136.538 554.501 144.414 553 149 553L191 553C184.225 543.381 175.094 535.139 167.614 526C154.009 509.378 141.795 491.547 130.898 473.108C126.823 466.213 120.231 461.21 118 453C129.19 453 139.922 454.524 151 455C150.513 451.148 150.487 446.714 149.235 443.039C146.962 436.365 140.833 430.555 136.594 425.09C133.337 420.891 130.755 416.584 126 414C126.487 416.056 126.952 417.144 128 419C120.428 421.75 111.199 427.523 103 427C103.334 429.512 104.146 431.62 105 434C98.5649 430.542 95.8843 423.026 92.3318 417C90.3364 413.615 88.0366 410.814 87 407L90 407L90 402C96.8063 403.62 103.156 402.54 110 402C109.954 385.396 101.808 373.893 93.7446 360C88.6001 351.136 84.2124 341.839 79 333C85.8079 338.641 89.132 348.598 93.8611 356C103.089 370.444 112.889 384.478 123.424 398C155.552 439.235 191.265 475.39 231 509.272C243.02 519.521 255.366 529.151 268 538.627C273.728 542.922 279.551 548.547 286 551.697C289.941 553.622 294.741 553 299 553L325 553L418 553L750 553L750 0L0 0z"
            fill="#150609"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5, delay: 2.5 }}
          />
          
          <motion.path
            d="M479 78C478.703 92.3946 476.072 106.485 477.09 121C478.024 134.336 481.889 147.582 482 161C490.733 159.824 498.526 156.008 507 154C506.382 147.962 503.127 142.651 501.053 137C496.257 123.933 490.749 111.183 486.272 98C484.398 92.484 483.742 81.347 479 78M573 89C573.421 98.2191 577.619 108.548 581.232 117C582.561 120.108 584.287 124.162 587.326 125.971C591.063 128.196 597.194 126.204 601 125C597.481 115.701 590.21 107.566 583.919 100C580.622 96.0352 577.512 91.5858 573 89M584 151C589.071 152.095 593.948 150.227 599 149.439C604.749 148.543 610.305 148.473 616 147C614.515 141.274 610.329 136.564 606.651 132.019C604.955 129.925 603.039 127.192 599.975 127.582C596.965 127.964 595.003 130.712 593.429 133.015C589.616 138.597 585.81 144.448 584 151M604 159C604.493 165.033 606.562 170.883 606.414 177C605.973 195.291 600.096 212.05 592 228C593.801 228.562 595.122 228.824 597 229C592.398 231.269 587.118 231.828 588 238C581.428 236.78 565.792 233.977 563 242C548.937 242.418 533.75 258.027 524 267.09C519.296 271.462 513.857 278.611 507 279.412C502.647 279.921 499.259 276.885 496 274.471C490.295 270.244 484.764 264.295 478 262C479.825 284.341 490.942 303.972 497 325C488.68 317.803 481.034 306.679 471 302C474.046 316.718 479.25 331.126 487 344C478.406 340.694 470.523 333.348 464 326.985C452.029 315.308 440.783 302.201 430.605 288.961C425.476 282.288 422.458 273.494 416 268C416.815 278.317 419.901 287.961 422 298C416.635 291.52 413.048 280.524 406 276C406.593 280.69 407.377 285.259 406.7 290C405.612 297.617 402.024 304.604 406.533 311.907C411.296 319.619 425.878 322.111 434 325C430.665 330.105 427.745 336.212 421 336L420 337C423.626 344.77 432.079 349.016 437 356L431 356C440.733 363.778 453.764 361.257 465 360.17C476.088 359.097 487.31 359.995 498 363C492.805 364.493 487.373 363.009 482 363C473.683 362.987 466.118 364.003 458 365.715C453.275 366.712 443.647 370.571 452.059 375.316C453.598 376.184 455.322 376.603 456.985 377.151C459.813 378.084 462.356 379.504 465.09 380.656C468.98 382.295 472.93 383.887 477 385C471.705 392.14 468.075 397.177 465.873 406C465.251 408.495 463.72 412.121 465.118 414.581C467.222 418.284 473.4 417.983 477 417.999C487.733 418.048 497.588 414.928 507 409.822C519.914 402.815 535.849 393.568 544.034 381C550.097 371.69 551.414 359.423 559.213 351.104C564.13 345.859 570.59 344.262 577 341.746C587.84 337.491 600.252 330.603 612 330C605.353 334.193 610.72 341.15 610 348C617.3 344.586 625.954 334.839 628 327C622.472 327.253 617.484 329.521 612 330C617.149 327.781 625.418 326.692 629.351 322.567C633.875 317.822 635.436 308.073 637.681 302C643.785 285.491 652.559 266.64 654 249C648.396 253.384 645.392 260.17 641.481 266C636.096 274.027 630.358 281.722 624 289C630.072 274.416 641.873 260.064 643.816 244C645.628 229.014 636.815 212.783 630 200C626.66 201.547 624.021 203.906 621 206C623.965 201.07 626.487 196.834 627 191C619.341 193.469 613.559 204.324 608 210C611.572 203.585 616.159 197.72 619.201 191C621.633 185.627 622.843 179.549 624.996 174C626.397 170.389 629.709 162.984 626.393 159.603C622.08 155.208 609.422 158.572 604 159M546 236C544.476 230.123 540.065 225.483 537.489 220C531.149 206.503 527 194.004 527 179C509.956 182.437 506.195 199.281 505.996 214C505.942 217.982 503.75 224.058 506.604 227.387C508.865 230.024 512.813 230.926 516 231.843C525.381 234.542 536.239 235.973 546 236M544 189C544 202.338 545.508 215.727 556.174 225.227C568.045 235.801 584.701 221.702 587 209C583.703 212.194 581.71 216.407 577.96 219.211C575.606 220.971 572.921 222.331 570 222.786C555.881 224.985 549.575 212.834 546.749 201C545.753 196.829 546.478 192.627 544 189M331 235C325.991 226.325 319.134 218.628 313.846 210.019C312.294 207.491 309.838 204.013 306.329 205.623C303.431 206.951 305.024 210.723 305.491 213C306.846 219.606 306.87 227.748 312.264 232.682C316.667 236.709 325.464 235 331 235M327 210C327.517 217.782 332.14 225.945 339.001 229.752C347.471 234.452 356.926 229.639 358 220C356.341 221.83 354.879 223.987 352.894 225.491C340.441 234.926 334.264 215.32 327 210M365 224C364.21 227.827 360.924 234.822 362.643 238.552C364.312 242.174 370.806 239.972 371.667 236.772C372.809 232.527 369.741 227.666 368 224L365 224M345 247C346.851 250.969 349.838 253.726 352.715 257C360.066 265.369 370.134 279.695 383 276C379.932 267.422 375.665 252.756 366.961 248.318C361.002 245.28 351.524 247 345 247M84 322C83.2779 318.499 82.9604 311.29 80.1427 308.847C77.3017 306.384 70.75 309.975 69.8927 313.133C67.5455 321.779 78.4795 321.763 84 322M26 334C19.4225 334.929 13.7513 338.915 7.96065 341.902C5.64696 343.096 2.49713 343.986 1.02778 346.299C-1.04342 349.561 0 355.308 0 359L0 390L0 553L132 553C129.267 545.896 123.75 539.458 119.681 533C112.488 521.58 105.73 509.871 99.3086 498C80.2449 462.755 63.6631 426.367 49.189 389C44.6972 377.404 40.4386 365.839 36.6559 354C34.112 346.038 31.1746 338.458 31 330C28.0639 330.627 26.9873 331.147 26 334M79 333C84.3268 345.727 92.0455 358.002 98.8611 369.996C105.007 380.813 109.894 389.149 110 402C103.07 402.298 96.9368 403.288 90 402L90 407L87 407C87.6071 411.009 89.6417 413.592 91.7361 417C95.2922 422.787 98.0215 431.724 105 434L103 427C110.317 428.329 121.551 422.375 128 419L126 414C130.966 417.961 134.212 423.072 138.12 428.004C141.795 432.643 146.591 437.496 148.867 443.039C150.38 446.728 150.275 451.094 151 455C139.863 454.12 129.243 453 118 453C119.28 461.454 126.21 466.374 130.37 473.108C143.007 493.56 156.106 513.683 171.87 532C177.261 538.265 184.003 549.448 192 552.397C199.975 555.337 212.533 553 221 553L287 553C281.98 547.344 275.039 543.156 269 538.627C258.489 530.743 248.066 522.86 238 514.411C204.423 486.227 172.495 456.74 144.414 423C127.809 403.05 112.208 382.608 97.8333 361C94.1425 355.452 90.4931 349.86 87.3086 344C84.9905 339.734 83.3865 335.406 79 333M563 349C566.216 359.307 563.504 366.797 561.615 377C557.862 397.271 550.002 417.18 550 438C556.217 430.521 559.388 419.368 564.695 411C571.95 399.562 579.013 388.02 586.909 377C591.034 371.243 596.22 365.983 599.968 360C603.168 354.892 604.075 341.419 597.891 338.032C594.396 336.117 590.331 338.095 587 339.4C578.96 342.548 570.966 345.688 563 349M383 383C379.846 390.463 378.707 399.122 376.762 407C375.999 410.089 373.82 413.767 374.708 417C376.493 423.501 386.085 428.57 391 432.615C400.42 440.367 409.713 448.353 419 456.272C424.635 461.077 430.19 466.965 437 470C433.281 457.085 426.015 445.103 422.884 432C421.713 427.1 420.656 422.02 420.17 417C419.872 413.92 420.635 410.096 418.972 407.326C316.942 403.942 412.19 401.793 409 399.667C400.728 394.152 392.284 386.57 383 383z"
            fill="#fdf5fa"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5, delay: 3 }}
          />
        </svg>

        {/* Sparkle effects */}
        {[...Array(8)].map((_, i) => (
          <motion.div
            key={i}
            initial={{ opacity: 0, scale: 0 }}
            animate={{ 
              opacity: [0, 1, 0], 
              scale: [0, 1, 0],
              x: [0, Math.random() * 100 - 50],
              y: [0, Math.random() * 100 - 50]
            }}
            transition={{ 
              duration: 2, 
              delay: 2 + i * 0.2,
              repeat: 2 
            }}
            style={{
              position: 'absolute',
              width: '6px',
              height: '6px',
              background: `linear-gradient(45deg, #00D4FF, #FF6B9D)`,
              borderRadius: '50%',
              left: `${30 + i * 8}%`,
              top: `${20 + i * 7}%`,
              filter: 'blur(1px)',
            }}
          />
        ))}
      </Box>
    </motion.div>
  );
};

export default SVGDrawingAnimation;
